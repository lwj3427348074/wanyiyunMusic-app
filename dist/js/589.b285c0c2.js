"use strict";(self["webpackChunkwangyiyun_app"]=self["webpackChunkwangyiyun_app"]||[]).push([[589],{7589:function(e,s,i){i.r(s),i.d(s,{default:function(){return b}});var t=i(3396),a=i(9242),l=i(7139);const n=e=>((0,t.dD)("data-v-2f13f35c"),e=e(),(0,t.Cn)(),e),r={class:"searchTop"},o=n((()=>(0,t._)("use",{"xlink:href":"#icon-zuojiantou"},null,-1))),c=[o],d={class:"searchHistory"},h=n((()=>(0,t._)("span",{class:"searchSpan"},"历史",-1))),u=["onClick"],y=n((()=>(0,t._)("use",{"xlink:href":"#icon-shanchu"},null,-1))),g=[y],k={class:"itemList"},p=["onClick"],m={class:"leftSpan"},f={class:"itemRight"},w={key:0,class:"icon bofang","aria-hidden":"true"},L=n((()=>(0,t._)("use",{"xlink:href":"#icon-shipin"},null,-1))),v=[L],_=n((()=>(0,t._)("svg",{class:"icon liebiao","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-danlieliebiao"})],-1)));function K(e,s,i,n,o,y){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",r,[((0,t.wg)(),(0,t.iD)("svg",{class:"icon bofang","aria-hidden":"true",onClick:s[0]||(s[0]=s=>e.$router.go(-1))},c)),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"林俊杰","onUpdate:modelValue":s[1]||(s[1]=e=>o.searchKey=e),onKeydown:s[2]||(s[2]=(0,a.D2)(((...e)=>y.enterKey&&y.enterKey(...e)),["enter"]))},null,544),[[a.nr,o.searchKey,void 0,{trim:!0}]])]),(0,t._)("div",d,[h,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.keyWorldList,(e=>((0,t.wg)(),(0,t.iD)("span",{class:"spanKey",key:e,onClick:s=>y.searchHistory(e)},(0,l.zw)(e),9,u)))),128)),((0,t.wg)(),(0,t.iD)("svg",{class:"icon bofang","aria-hidden":"true",onClick:s[3]||(s[3]=(...e)=>y.delHistory&&y.delHistory(...e))},g))]),(0,t._)("div",k,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.searchList,((e,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"item",key:e.id},[(0,t._)("div",{class:"itemLeft",onClick:s=>y.updateIndex(e)},[(0,t._)("span",m,(0,l.zw)(s+1),1),(0,t._)("div",null,[(0,t._)("p",null,(0,l.zw)(e.name),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.artists,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e.id},(0,l.zw)(e.name),1)))),128))])],8,p),(0,t._)("div",f,[0!=e.mvid?((0,t.wg)(),(0,t.iD)("svg",w,v)):(0,t.kq)("",!0),_])])))),128))])],64)}i(541);var W=i(2884),D={name:"Search",data(){return{keyWorldList:[],searchKey:"",searchList:[]}},methods:{async enterKey(){if(this.searchKey){this.keyWorldList.unshift(this.searchKey),this.keyWorldList=[...new Set(this.keyWorldList)],this.keyWorldList.length>10&&this.keyWorldList.splice(this.keyWorldList.length-1,1),localStorage.setItem("keyWorldList",JSON.stringify(this.keyWorldList));let e=await(0,W.xK)(this.searchKey);console.log(e.data.result.songs),this.searchList=e.data.result.songs,this.searchKey=""}},delHistory(){confirm("是")&&(localStorage.removeItem("keyWorldList"),this.keyWorldList=[])},async searchHistory(e){let s=await(0,W.xK)(e);console.log(s.data.result.songs),this.searchList=s.data.result.songs},updateIndex(e){e.al=e.album,e.al.picUrl=e.album.artist.img1v1Url,this.$store.commit("pushPlayList",e),this.$store.commit("updatedPlayListIndex",this.$store.state.PlayList.length-1)}},mounted(){this.keyWorldList=JSON.parse(localStorage.getItem("keyWorldList"))||[]}},x=i(89);const H=(0,x.Z)(D,[["render",K],["__scopeId","data-v-2f13f35c"]]);var b=H}}]);
//# sourceMappingURL=589.b285c0c2.js.map